{% extends "web/base.html" %}
{% block title %}Crear Autor · Library{% endblock %}

{% block content %}
  <h1 style="margin:0 0 6px 0;">Crear Autor</h1>
  <p class="muted" style="margin:0 0 14px 0;">
    Crea un autor en el backend (DRF). Luego podrás seleccionarlo al crear libros.
  </p>

  <div class="card">
    <form method="post" novalidate>
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="toast error" style="margin-bottom:12px;">
          <div>
            <strong class="error">Error</strong>
            {{ form.non_field_errors }}
          </div>
        </div>
      {% endif %}

      <label for="{{ form.name.id_for_label }}">{{ form.name.label }}</label>
      {{ form.name }}
      {% if form.name.help_text %}<div class="help">{{ form.name.help_text }}</div>{% endif %}
      {% for err in form.name.errors %}<div class="field-error">{{ err }}</div>{% endfor %}

      <label for="{{ form.birth_date.id_for_label }}">{{ form.birth_date.label }}</label>
      {{ form.birth_date }}
      <div class="help">Opcional. Formato: YYYY-MM-DD</div>
      {% for err in form.birth_date.errors %}<div class="field-error">{{ err }}</div>{% endfor %}

      <div style="margin-top:16px; display:flex; gap:10px; flex-wrap:wrap;">
        <button class="btn primary" type="submit">Crear</button>
        <a class="btn" href="{% url 'books_list' %}">Volver</a>
      </div>
    </form>
  </div>
{% endblock %}